# Custom 404 Page Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Create an on-brand, playful 404 error page that transforms a dead-end into a branded touchpoint, keeping visitors engaged with the Pike & West luxury aesthetic.

**Architecture:** Hero-style full-height section with venue background image, elegant serif headline with playful copy, multiple navigation options to guide lost visitors. Uses existing SCSS patterns (hero, buttons) to maintain brand consistency. No footer CTA banner (404 is the CTA).

**Tech Stack:** Hugo template (`layouts/404.html`), SCSS module (`assets/scss/_404.scss`), existing partials (header, footer), data file for content

---

## Design Concept

**Tone:** Sophisticated playfulness - acknowledge the error with warmth, not frustration

**Visual:** Dark venue interior (disco background or soft seating) with cream overlay text, matching the hero section aesthetic

**Copy approach:**

- Headline: "Lost in the Gallery" (on-brand, playful)
- Subhead: Uses tagline cadence ("Art and Life. Life and Art...")
- Message: Warm, helpful, guides visitors home

**Key UX elements:**

1. Clear error acknowledgment (no technical jargon)
2. Primary CTA: Return home
3. Secondary options: Contact, Events, Blog
4. Search suggestion (text, not functional search box)
5. Maintains full header navigation

---

## Tasks

### Task 1: Create 404 Data File

**Files:**

- Create: `data/404.yaml`

**Step 1: Create the data file with content**

```yaml
# 404 Error Page Content
# Maintains Pike & West's sophisticated yet warm brand voice

headline: "Lost in the Gallery"

tagline:
  - "The art of getting lost."
  - "The art of finding your way."
  - "Let us help."

message: "The page you're looking for has wandered off. Perhaps it's admiring the artwork somewhere."

cta_primary:
  text: "Return Home"
  link: "/"

cta_secondary:
  - text: "Browse Events"
    link: "/events/"
  - text: "Contact Us"
    link: "/contact/"
  - text: "Read Our Blog"
    link: "/blog/"

# Background image - use moody interior shot
background_image: "images/venue/venue-08-disco-background.jpg"
image_alt: "Pike & West venue interior with artistic lighting"
```

**Step 2: Verify file created correctly**

Run: `cat data/404.yaml`
Expected: YAML content displays without errors

**Step 3: Commit**

```bash
git add data/404.yaml
git commit -m "feat(404): add content data file for 404 page"
```

---

### Task 2: Create 404 SCSS Module

**Files:**

- Create: `assets/scss/_404.scss`
- Modify: `assets/scss/main.scss` (add import)

**Step 1: Create the SCSS file**

```scss
// =========================
// 404 Error Page
// =========================
// Matches hero section aesthetic with centered content
// Uses venue interior as background for immersive feel

.error-404 {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 70vh;
  padding: $spacing-3xl $spacing-lg;
  text-align: center;

  // Background image with dark overlay
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  // Dark overlay for text readability
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to bottom,
      rgba($color-black, 0.6) 0%,
      rgba($color-black, 0.7) 100%
    );
    z-index: 0;
  }

  // Content wrapper
  &__content {
    position: relative;
    z-index: 1;
    max-width: 600px;
    margin: 0 auto;
  }

  // Headline - Le Mores Collection serif
  &__headline {
    font-family: $font-display;
    font-size: 48px;
    font-weight: $font-weight-regular;
    line-height: 1.2;
    letter-spacing: 0.1em;
    color: $color-cream;
    margin: 0 0 $spacing-lg;
  }

  // Tagline - matches hero tagline style
  &__tagline {
    font-family: $font-secondary;
    font-size: 18px;
    font-weight: $font-weight-regular;
    line-height: 1.6;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: $color-cream;
    margin-bottom: $spacing-xl;
  }

  // Message text
  &__message {
    font-family: $font-secondary;
    font-size: 16px;
    font-weight: $font-weight-light;
    line-height: 1.8;
    color: rgba($color-cream, 0.9);
    margin-bottom: $spacing-2xl;
  }

  // Primary CTA
  &__cta-primary {
    margin-bottom: $spacing-xl;
  }

  // Secondary links row
  &__cta-secondary {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: $spacing-md;
  }

  // Secondary link style (text links, not buttons)
  &__link {
    font-family: $font-primary;
    font-size: 14px;
    font-weight: $font-weight-regular;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: $color-cream;
    text-decoration: none;
    padding: $spacing-xs $spacing-sm;
    border-bottom: 1px solid transparent;
    transition: border-color $transition-base;

    &:hover,
    &:focus {
      border-bottom-color: $color-gold;
    }
  }

  // ===== BREAKPOINT: 1920px+ (Ultra-wide) =====
  @media (min-width: $breakpoint-2xl) {
    &__headline {
      font-size: 64px;
    }

    &__tagline {
      font-size: 22px;
    }
  }

  // ===== BREAKPOINT: 991px (Tablet) =====
  @media (max-width: $breakpoint-lg) {
    min-height: 60vh;
    padding: $spacing-2xl $spacing-lg;

    &__headline {
      font-size: 40px;
    }
  }

  // ===== BREAKPOINT: 767px (Mobile Landscape) =====
  @media (max-width: $breakpoint-md) {
    min-height: 50vh;

    &__headline {
      font-size: 32px;
    }

    &__tagline {
      font-size: 16px;
    }

    &__cta-secondary {
      flex-direction: column;
      gap: $spacing-sm;
    }
  }

  // ===== BREAKPOINT: 479px (Mobile Portrait) =====
  @media (max-width: $breakpoint-sm) {
    padding: $spacing-xl $spacing-md;

    &__headline {
      font-size: 28px;
      letter-spacing: 0.05em;
    }

    &__tagline {
      font-size: 14px;
    }

    &__message {
      font-size: 14px;
    }
  }
}
```

**Step 2: Add import to main.scss**

Find the components section in `assets/scss/main.scss` and add:

```scss
@import '404';
```

Add it near other page-specific imports (after `_hero.scss` or similar).

**Step 3: Verify SCSS compiles**

Run: `hugo server --disableFastRender 2>&1 | head -20`
Expected: Server starts without SCSS compilation errors

**Step 4: Commit**

```bash
git add assets/scss/_404.scss assets/scss/main.scss
git commit -m "feat(404): add SCSS styling module"
```

---

### Task 3: Create 404 Hugo Template

**Files:**

- Create: `layouts/404.html`

**Step 1: Create the template file**

```go-html-template
{{- /*
  404 Error Page Template

  Purpose: Custom branded 404 page for Pike & West
  Context: Hugo automatically uses this for 404 responses

  Design: Hero-style layout with venue background, elegant
  messaging, and multiple navigation options.
*/ -}}

{{- define "main" -}}
{{- $data := site.Data.404 -}}

{{- /* Process background image with WebP */ -}}
{{- $bgImage := resources.Get $data.background_image -}}
{{- $bgUrlJpg := "" -}}
{{- $bgUrlWebp := "" -}}
{{- if $bgImage -}}
  {{- $bgUrlJpg = ($bgImage.Resize "1920x jpg q85").RelPermalink -}}
  {{- $bgUrlWebp = ($bgImage.Resize "1920x webp q85").RelPermalink -}}
{{- end -}}

<section class="error-404">
  {{- /* Inline CSS for background image with WebP support */ -}}
  <style>
    .error-404 {
      background-image: url('{{ $bgUrlJpg }}');
    }
    @supports (background-image: url('test.webp')) {
      .error-404 {
        background-image: url('{{ $bgUrlWebp }}');
      }
    }
  </style>

  <div class="error-404__content">
    {{- /* Headline */ -}}
    <h1 class="error-404__headline">{{ $data.headline }}</h1>

    {{- /* Tagline - Pike & West cadence */ -}}
    <div class="error-404__tagline">
      {{- range $i, $line := $data.tagline -}}
        {{- if $i }}<br>{{ end -}}
        {{ $line }}
      {{- end -}}
    </div>

    {{- /* Friendly message */ -}}
    <p class="error-404__message">{{ $data.message }}</p>

    {{- /* Primary CTA */ -}}
    <div class="error-404__cta-primary">
      <a href="{{ $data.cta_primary.link }}" class="btn btn-secondary">
        {{ $data.cta_primary.text }}
      </a>
    </div>

    {{- /* Secondary navigation links */ -}}
    <nav class="error-404__cta-secondary" aria-label="Alternative navigation">
      {{- range $data.cta_secondary -}}
        <a href="{{ .link }}" class="error-404__link">{{ .text }}</a>
      {{- end -}}
    </nav>
  </div>
</section>
{{- end -}}

{{- /* Use base template for consistent header/footer */ -}}
{{ define "title" }}Page Not Found | Pike & West{{ end }}
```

**Step 2: Verify template renders**

Run: `hugo server --disableFastRender`
Then visit: `http://localhost:1313/nonexistent-page/`
Expected: Custom 404 page displays with background image and content

**Step 3: Commit**

```bash
git add layouts/404.html
git commit -m "feat(404): add Hugo template with hero-style layout"
```

---

### Task 4: Add SEO Meta for 404 Page

**Files:**

- Modify: `layouts/404.html` (add front matter context)
- Verify: `layouts/partials/head.html` handles 404 gracefully

**Step 1: Update 404 template to set page variables**

Replace the title define and add proper context for head partial:

```go-html-template
{{- /*
  Set page context for head partial
  404 pages don't have front matter, so we provide defaults
*/ -}}
{{ $scratch := newScratch }}
{{ $scratch.Set "Title" "Page Not Found" }}
{{ $scratch.Set "Description" "The page you're looking for doesn't exist. Explore Pike & West's art gallery and event venue in Germantown, TN." }}
```

Add this block at the top of the template, before `define "main"`.

**Step 2: Verify head partial handles missing .Params gracefully**

Run: `hugo server --disableFastRender`
Then visit: `http://localhost:1313/nonexistent-page/`
Expected: No errors in console, proper title in browser tab

**Step 3: Commit**

```bash
git add layouts/404.html
git commit -m "feat(404): add SEO metadata handling"
```

---

### Task 5: Test Across Breakpoints

**Files:**

- No file changes (testing only)

**Step 1: Start dev server**

Run: `hugo server --disableFastRender`

**Step 2: Test desktop (1280px+)**

Open browser at `http://localhost:1313/test-404/`
Verify:

- Full-height hero section with background image
- Large headline in Le Mores Collection font
- Tagline in uppercase Montserrat
- Primary button styled as btn-secondary (cream)
- Secondary links in horizontal row
- Header and footer present

**Step 3: Test tablet (991px)**

Resize browser or use DevTools device mode
Verify:

- Slightly smaller headline
- Content still centered
- All elements visible
- Touch targets adequate (44x44px minimum)

**Step 4: Test mobile (479px)**

Resize to mobile portrait
Verify:

- Headline readable (28px)
- Tagline visible
- Secondary links stack vertically
- No horizontal overflow
- Background image still visible through overlay

**Step 5: Document any issues found**

If issues found, create follow-up tasks. Otherwise, proceed.

**Step 6: Commit test verification**

No file changes, but document in commit:

```bash
git commit --allow-empty -m "test(404): verify responsive behavior across breakpoints"
```

---

### Task 6: Skip CTA Banner on 404 Page

**Files:**

- Modify: `layouts/_default/baseof.html`

**Step 1: Check current CTA banner logic**

The baseof.html already skips CTA banner for contact page. We need to also skip it for 404.

**Step 2: Update baseof.html conditional**

Find this block:

```go-html-template
{{- $isContactPage := and .File (eq .File.BaseFileName "contact") -}}
{{- if not $isContactPage -}}
  {{- partial "cta-banner.html" . -}}
{{- end -}}
```

Replace with:

```go-html-template
{{- $isContactPage := and .File (eq .File.BaseFileName "contact") -}}
{{- $is404Page := eq .Kind "404" -}}
{{- if and (not $isContactPage) (not $is404Page) -}}
  {{- partial "cta-banner.html" . -}}
{{- end -}}
```

**Step 3: Verify CTA banner is hidden**

Run: `hugo server --disableFastRender`
Visit: `http://localhost:1313/nonexistent/`
Expected: No "Book a Tour" CTA banner between 404 content and footer

**Step 4: Commit**

```bash
git add layouts/_default/baseof.html
git commit -m "feat(404): skip CTA banner on 404 page"
```

---

### Task 7: Final Integration Test

**Files:**

- No changes (testing only)

**Step 1: Production build test**

Run: `hugo --gc --minify`
Expected: Build completes without errors, `public/404.html` exists

**Step 2: Verify 404.html in output**

Run: `cat public/404.html | head -50`
Expected: Complete HTML with styles, background image references

**Step 3: Lighthouse audit**

Run: `npx lighthouse http://localhost:1313/test-404/ --only-categories=accessibility,seo,best-practices --output=json --output-path=./lighthouse-404.json`

Check scores:

- Accessibility: Should be 90+
- SEO: Should be 90+
- Best Practices: Should be 90+

**Step 4: Clean up and final commit**

```bash
rm -f lighthouse-404.json
git add -A
git commit -m "feat(404): complete 404 page implementation

- Custom branded 404 page with Pike & West aesthetic
- Hero-style layout with venue background image
- Playful, warm copy matching brand voice
- Multiple navigation options for lost visitors
- Responsive design across all breakpoints
- SEO-optimized with proper meta tags"
```

---

## Alternative Copy Options

If the primary copy doesn't resonate, here are alternatives:

**Option A - Gallery Theme:**

- Headline: "This Exhibit Has Moved"
- Tagline: "Every gallery evolves. / Every path leads somewhere. / Let's find your way."

**Option B - Venue Theme:**

- Headline: "The Party's Not Here"
- Tagline: "But the celebration continues. / The venue awaits. / Join us."

**Option C - Minimal:**

- Headline: "Page Not Found"
- Tagline: "Art and Life. / Life and Art. / Let us guide you."

---

## Sources

Best practices incorporated from:

- [Digital Silk - 30 Best 404 Pages](https://www.digitalsilk.com/digital-trends/best-404-pages/)
- [UXPin - 404 Page Best Practices](https://www.uxpin.com/studio/blog/404-page-best-practices/)
- [Search Engine Land - 404 Pages from 50+ Brands](https://searchengineland.com/404-pages-best-practices-examples-436618)
- [Canva - 50 Creative 404 Pages](https://www.canva.com/learn/404-page-design/)
