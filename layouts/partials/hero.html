{{- $hero := site.Data.hero -}}

{{- /* Process background image (taller, for CSS) */ -}}
{{- $bgImage := resources.Get $hero.background_image -}}
{{- $bgUrl := "" -}}
{{- if $bgImage -}}
  {{- $bgUrl = ($bgImage.Resize "1920x q85").RelPermalink -}}
{{- end -}}

{{- /* Process foreground image (wider, for <img> element) */ -}}
{{- $fgImage := resources.Get $hero.foreground_image -}}

<section class="hero hero-animate" style="background-image: url('{{ $bgUrl }}');">
  {{- /* Foreground image - hidden by default, visible on mobile breakpoints */ -}}
  {{- if $fgImage -}}
  <img
    class="hero__image"
    src="{{ ($fgImage.Resize "1920x q85").RelPermalink }}"
    srcset="{{ ($fgImage.Resize "500x q85").RelPermalink }} 500w,
            {{ ($fgImage.Resize "800x q85").RelPermalink }} 800w,
            {{ ($fgImage.Resize "1080x q85").RelPermalink }} 1080w,
            {{ ($fgImage.Resize "1600x q85").RelPermalink }} 1600w,
            {{ ($fgImage.Resize "1920x q85").RelPermalink }} 1920w"
    sizes="100vw"
    alt="{{ $hero.image_alt }}"
    loading="eager"
  >
  {{- end -}}

  {{- /* Content block */ -}}
  <div class="hero__content">
    <h1 class="hero__title">{{ $hero.title_line1 }}<br>{{ $hero.title_line2 }}</h1>
    <div class="hero__tagline tagline">
      {{- range $i, $line := $hero.tagline -}}
        {{- if $i }}<br>{{ end -}}
        {{ $line }}
      {{- end -}}
    </div>
    <div class="hero__cta">
      <a href="{{ $hero.cta.link }}" class="btn btn-secondary">{{ $hero.cta.text }}</a>
    </div>
  </div>
</section>
