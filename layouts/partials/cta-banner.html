{{- $cta := site.Data.cta_banner -}}
{{- $bgImage := resources.Get $cta.background_image -}}
{{- $bgUrlJpg := "" -}}
{{- $bgUrlWebp := "" -}}
{{- if $bgImage -}}
  {{- $bgUrlJpg = ($bgImage.Resize "1920x jpg q80").RelPermalink -}}
  {{- $bgUrlWebp = ($bgImage.Resize "1920x webp q80").RelPermalink -}}
{{- end -}}

<section class="cta-banner">
  {{- /* WebP background with JPEG fallback */ -}}
  <style>
    .cta-banner {
      background-image: url('{{ $bgUrlJpg }}');
    }
    @supports (background-image: url('test.webp')) {
      .cta-banner {
        background-image: url('{{ $bgUrlWebp }}');
      }
    }
  </style>
  <div class="cta-banner__content fade-in-up">
    <h2 class="cta-banner__heading">{{ $cta.heading }}</h2>
    <p class="cta-banner__text">{{ $cta.text }}</p>
    <a href="{{ $cta.cta.link }}" class="btn btn-secondary">{{ $cta.cta.text }}</a>
  </div>
</section>
