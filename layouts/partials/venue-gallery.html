<section class="venue-gallery section">
  <div class="container">
    <h2 class="venue-gallery__heading fade-in-up">{{ site.Data.venue_gallery.heading }}</h2>
    <p class="venue-gallery__subtext fade-in-up fade-in-up--delay-1">{{ site.Data.venue_gallery.subtext }}</p>

    <div
      class="venue-gallery__carousel"
      role="region"
      aria-label="Venue photo gallery"
      aria-roledescription="carousel"
      data-pswp-gallery="venue"
    >
      {{- /* CSS Scroll-Snap Gallery Track */ -}}
      <ul class="venue-gallery__track" id="gallery-track" role="list">
        {{- range $index, $item := site.Data.venue_gallery.images -}}
          {{- $image := resources.Get $item.src -}}
          {{- if $image -}}
          {{- /* Generate WebP and JPEG versions */ -}}
          {{- $thumbWebp := $image.Resize "600x webp q85" -}}
          {{- $thumbJpg := $image.Resize "600x jpg q85" -}}
          {{- $fullWebp := $image.Resize "1600x webp q90" -}}
          {{- $fullJpg := $image.Resize "1600x jpg q90" -}}
        <li class="venue-gallery__slide" data-index="{{ $index }}">
          <a href="{{ $fullJpg.RelPermalink }}"
             data-pswp-width="{{ $fullJpg.Width }}"
             data-pswp-height="{{ $fullJpg.Height }}"
             data-pswp-srcset="{{ $fullWebp.RelPermalink }} {{ $fullWebp.Width }}w"
             data-cropped="true">
            <picture>
              <source type="image/webp" srcset="{{ $thumbWebp.RelPermalink }}">
              <img
                src="{{ $thumbJpg.RelPermalink }}"
                alt="{{ $item.alt }}"
                class="venue-gallery__image"
                width="{{ $thumbJpg.Width }}"
                height="{{ $thumbJpg.Height }}"
                loading="lazy"
                decoding="async"
              >
            </picture>
          </a>
        </li>
          {{- end -}}
        {{- end -}}
      </ul>

      {{- /* Scroll buttons for keyboard/mouse users */ -}}
      <div class="venue-gallery__arrows">
        <button
          class="venue-gallery__arrow venue-gallery__arrow--prev"
          aria-label="Scroll to previous photos"
          type="button"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        <button
          class="venue-gallery__arrow venue-gallery__arrow--next"
          aria-label="Scroll to next photos"
          type="button"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>
