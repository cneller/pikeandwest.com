<section class="venue-gallery section">
  <div class="container">
    <h2 class="venue-gallery__heading fade-in-up">{{ site.Data.venue_gallery.heading }}</h2>
    <p class="venue-gallery__subtext fade-in-up fade-in-up--delay-1">{{ site.Data.venue_gallery.subtext }}</p>

    <div
      class="venue-gallery__carousel"
      role="region"
      aria-label="Venue photo gallery"
      aria-roledescription="carousel"
    >
      {{- /* CSS Scroll-Snap Gallery Track */ -}}
      <ul class="venue-gallery__track" id="gallery-track" role="list">
        {{- $images := resources.Match "images/venue/*" -}}
        {{- range $index, $image := $images -}}
          {{- /* Generate WebP and JPEG versions */ -}}
          {{- $thumbWebp := $image.Resize "600x webp q85" -}}
          {{- $thumbJpg := $image.Resize "600x jpg q85" -}}
          {{- $fullWebp := $image.Resize "1600x webp q90" -}}
          {{- $fullJpg := $image.Resize "1600x jpg q90" -}}
        <li class="venue-gallery__slide" data-index="{{ $index }}">
          <picture>
            <source type="image/webp" srcset="{{ $thumbWebp.RelPermalink }}">
            <img
              src="{{ $thumbJpg.RelPermalink }}"
              alt="Pike & West venue photo {{ add $index 1 }}"
              class="venue-gallery__image"
              width="{{ $thumbJpg.Width }}"
              height="{{ $thumbJpg.Height }}"
              loading="lazy"
              decoding="async"
              data-full="{{ $fullJpg.RelPermalink }}"
              data-full-webp="{{ $fullWebp.RelPermalink }}"
            >
          </picture>
        </li>
        {{- end -}}
      </ul>

      {{- /* Scroll buttons for keyboard/mouse users */ -}}
      <div class="venue-gallery__arrows">
        <button
          class="venue-gallery__arrow venue-gallery__arrow--prev"
          aria-label="Scroll to previous photos"
          type="button"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        <button
          class="venue-gallery__arrow venue-gallery__arrow--next"
          aria-label="Scroll to next photos"
          type="button"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

{{- /* Lightbox */ -}}
<div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Image lightbox">
  <button class="lightbox__close" aria-label="Close lightbox" type="button">&times;</button>
  <picture class="lightbox__picture">
    <source id="lightbox-source-webp" type="image/webp" srcset="">
    <img
      src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
      alt="Enlarged venue photo"
      class="lightbox__image"
      id="lightbox-image"
    >
  </picture>
</div>
