{{ define "main" }}
{{/*
  Single Event Page Template

  Purpose: Displays individual event type pages (weddings, birthdays, etc.)
  with hero image, breadcrumb, content, and CTA.

  Context: . = Page (event content page)
*/}}

{{/* Event Hero - Use page's featured image or fallback to venue image */}}
{{ $heroImage := "" }}
{{ with .Params.image }}
  {{ $heroImage = resources.Get . }}
{{ end }}
{{ if not $heroImage }}
  {{/* Default fallback image for events */}}
  {{ $heroImage = resources.Get "images/venue/venue-01-interior.jpeg" }}
{{ end }}
{{ $heroBg := "" }}
{{ if $heroImage }}
  {{/* Convert to WebP for smaller file size */}}
  {{ $heroBg = ($heroImage.Resize "1920x webp q85").RelPermalink }}
{{ end }}

<section class="page-hero" style="background-image: url('{{ $heroBg }}');">
  <div class="page-hero__content">
    <h1 class="page-hero__title">{{ .Title }}</h1>
  </div>
</section>

{{/* Breadcrumb Navigation */}}
{{ partial "breadcrumb.html" (dict "Page" . "accentBar" true "narrowContent" true) }}

{{/* Event Content */}}
<article class="event-page section">
  <div class="container">
    <div class="event-page__content content">
      {{ .Content }}
    </div>

    {{/* CTA Section */}}
    <div class="event-page__cta">
      <a href="/contact/" class="btn btn-primary">Schedule a Tour</a>
    </div>
  </div>
</article>
{{ end }}
